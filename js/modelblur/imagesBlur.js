!function(r){if(!("ArrayBuffer"in r)){r.typedStackBlurRGB=function(){throw new Error("Failed to blur: typed arrays are not supported")};return}var e=new Uint16Array([512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259]);var t=new Uint8Array([9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24]);function n(r,n,f,o,i,s,u){s=Math.abs(Math.floor(s));if(s==0){s=8}var v=r.buffer;var l=new Uint32Array(v);var d,p,b,w,g,x,y,h,c,B,R,k,M,A,G,m,O,U,D,P,S,W;var C=s+s+1;var E=o<<2;var F=o-1;var L=i-1;var j=s+1;var q=j*(j+1)>>1;var z=e[s];var H=t[s];var I=new a;var J=I;var K;for(b=1;b<C;b++){J=J.next=new a;if(b===j){K=J}}J.next=I;y=x=0;for(p=0;p<i;p++){A=G=m=h=c=B=0;R=j*(O=r[x]);k=j*(U=r[x+1]);M=j*(D=r[x+2]);h+=q*O;c+=q*U;B+=q*D;J=I;for(b=0;b<j;b++){J.r=O;J.g=U;J.b=D;J=J.next}for(b=1;b<j;b++){w=x+((F<b?F:b)<<2);h+=(J.r=O=r[w])*(P=j-b);c+=(J.g=U=r[w+1])*P;B+=(J.b=D=r[w+2])*P;A+=O;G+=U;m+=D;J=J.next}S=I;W=K;for(d=0;d<o;d++){if(u){l[p*o+d]=255<<24|B*z>>H<<16|c*z>>H<<8|h*z>>H}else{l[p*o+d]=h*z>>H<<24|c*z>>H<<16|B*z>>H<<8|255}h-=R;c-=k;B-=M;R-=S.r;k-=S.g;M-=S.b;w=y+((w=d+s+1)<F?w:F)<<2;A+=S.r=r[w];G+=S.g=r[w+1];m+=S.b=r[w+2];h+=A;c+=G;B+=m;S=S.next;R+=O=W.r;k+=U=W.g;M+=D=W.b;A-=O;G-=U;m-=D;W=W.next;x+=4}y+=o}for(d=0;d<o;d++){G=m=A=c=B=h=0;x=d<<2;R=j*(O=r[x]);k=j*(U=r[x+1]);M=j*(D=r[x+2]);h+=q*O;c+=q*U;B+=q*D;J=I;for(b=0;b<j;b++){J.r=O;J.g=U;J.b=D;J=J.next}g=o;for(b=1;b<=s;b++){x=g+d<<2;h+=(J.r=O=r[x])*(P=j-b);c+=(J.g=U=r[x+1])*P;B+=(J.b=D=r[x+2])*P;A+=O;G+=U;m+=D;J=J.next;if(b<L){g+=o}}x=d;S=I;W=K;for(p=0;p<i;p++){w=x<<2;if(u){l[p*o+d]=255<<24|B*z>>H<<16|c*z>>H<<8|h*z>>H}else{l[p*o+d]=h*z>>H<<24|c*z>>H<<16|B*z>>H<<8|255}h-=R;c-=k;B-=M;R-=S.r;k-=S.g;M-=S.b;w=d+((w=p+j)<L?w:L)*o<<2;h+=A+=S.r=r[w];c+=G+=S.g=r[w+1];B+=m+=S.b=r[w+2];S=S.next;R+=O=W.r;k+=U=W.g;M+=D=W.b;A-=O;G-=U;m-=D;W=W.next;x+=o}}}function a(){this.r=0;this.g=0;this.b=0;this.a=0;this.next=null}r.typedStackBlurRGB=n}(typeof window==="undefined"?self:window);!function(r){var e=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];var t=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function n(r,n,f,o,i,s){s=Math.abs(Math.floor(s));if(s==0){s=8}var u,v,l,d,p,b,w,g,x,y,h,c,B,R,k,M,A,G,m,O,U,D;var P=s+s+1;var S=o<<2;var W=o-1;var C=i-1;var E=s+1;var F=E*(E+1)>>1;var L=e[s];var j=t[s];var q=new a;var z=q;var H;for(l=1;l<P;l++){z=z.next=new a;if(l==E){H=z}}z.next=q;w=b=0;for(v=0;v<i;v++){R=k=M=g=x=y=0;h=E*(A=r[b]);c=E*(G=r[b+1]);B=E*(m=r[b+2]);g+=F*A;x+=F*G;y+=F*m;z=q;for(l=0;l<E;l++){z.r=A;z.g=G;z.b=m;z=z.next}for(l=1;l<E;l++){d=b+((W<l?W:l)<<2);g+=(z.r=A=r[d])*(O=E-l);x+=(z.g=G=r[d+1])*O;y+=(z.b=m=r[d+2])*O;R+=A;k+=G;M+=m;z=z.next}U=q;D=H;for(u=0;u<o;u++){r[b]=g*L>>j;r[b+1]=x*L>>j;r[b+2]=y*L>>j;g-=h;x-=c;y-=B;h-=U.r;c-=U.g;B-=U.b;d=w+((d=u+s+1)<W?d:W)<<2;R+=U.r=r[d];k+=U.g=r[d+1];M+=U.b=r[d+2];g+=R;x+=k;y+=M;U=U.next;h+=A=D.r;c+=G=D.g;B+=m=D.b;R-=A;k-=G;M-=m;D=D.next;b+=4}w+=o}for(u=0;u<o;u++){k=M=R=x=y=g=0;b=u<<2;h=E*(A=r[b]);c=E*(G=r[b+1]);B=E*(m=r[b+2]);g+=F*A;x+=F*G;y+=F*m;z=q;for(l=0;l<E;l++){z.r=A;z.g=G;z.b=m;z=z.next}p=o;for(l=1;l<=s;l++){b=p+u<<2;g+=(z.r=A=r[b])*(O=E-l);x+=(z.g=G=r[b+1])*O;y+=(z.b=m=r[b+2])*O;R+=A;k+=G;M+=m;z=z.next;if(l<C){p+=o}}b=u;U=q;D=H;for(v=0;v<i;v++){d=b<<2;r[d]=g*L>>j;r[d+1]=x*L>>j;r[d+2]=y*L>>j;g-=h;x-=c;y-=B;h-=U.r;c-=U.g;B-=U.b;d=u+((d=v+E)<C?d:C)*o<<2;g+=R+=U.r=r[d];x+=k+=U.g=r[d+1];y+=M+=U.b=r[d+2];U=U.next;h+=A=D.r;c+=G=D.g;B+=m=D.b;R-=A;k-=G;M-=m;D=D.next;b+=o}}}function a(){this.r=0;this.g=0;this.b=0;this.a=0;this.next=null}r.stackBlurRGB=n}(typeof window==="undefined"?self:window);!function(r){if(!("R"in r)){r.R={}}R.Work={};R.Work.blur=function(r){var e=r.w;var t=r.h;var n=r.r;var a={w:e,h:t};var f=Date.now();if("buf"in r){var o=r.buf;var i=r.end;if(typeof typedStackBlurRGB!=="undefined"&&typeof Uint8ClampedArray!=="undefined"){typedStackBlurRGB(new Uint8ClampedArray(o),0,0,e,t,n,i)}a.buf=o;a.time=Date.now()-f;return[a,[o]]}else if("pix"in r){var s=r.pix;if(typeof stackBlurRGB!=="undefined"){stackBlurRGB(s,0,0,e,t,n)}a.pix=s;a.time=Date.now()-f;return[a]}else{a.err="Did not receive a buffer or pixels";return[a]}}}(typeof window==="undefined"?self:window);self.addEventListener("message",function(r){var e=r.data;if(e&&e.hasOwnProperty("data")&&!e.hasOwnProperty("operation")){if(self.hasOwnProperty("ArrayBuffer")&&e.data instanceof ArrayBuffer){self.postMessage(e,[e.data])}else{self.postMessage(e)}return}if(!R.Work.hasOwnProperty(e.operation)){self.postMessage({err:"Operation does not exist: "+e.operation})}else{try{self.postMessage.apply(self,R.Work[e.operation](e))}catch(t){self.postMessage({err:t.message})}}},false);